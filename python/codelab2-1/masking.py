# --------------------------------------------------------------------------------
# [파이썬 2일차 Codelab ① - 병렬 데이터 마스킹 및 텍스트 정규화(Normalization)]
#
# 작성자(author): 장아현
# 작성일자(date): 2026.01.26
# 변경내역(description): 리뷰 csv에서 개인정보를 마스킹하고 금칙어를 표준 표현으로 순화
# --------------------------------------------------------------------------------
# --------------------------------------------------------------------------------
#   실습 가이드
#   - 수백만 건의 사용자 리뷰 데이터 내에 포함된 이메일 주소, 전화번호 등의 개인정보를 마스킹(****) 처리하고,
#     특정 금칙어를 표준 표현으로 순화하는 배치 프로세서를 구축
#   핵심 포인트
#   - 정규표현식(Regex)의 오버헤드
#       복잡한 정규표현식은 CPU 자원을 많이 소모
#       이를 멀티 프로세스로 분산했을 때의 성능 이득을 확인
#   - 데이터 청킹(Chunking)
#       500만 건의 데이터를 리스트 하나로 처리할 때와
#       코어 수만큼 나눠서 병렬 처리할 때의 처리량(Throughput) 차이를 분석
#   - IPC 비용
#       데이터가 너무 작으면 프로세스 간 통신(IPC) 비용이
#       실행 시간보다 커질 수 있음을 이해
# --------------------------------------------------------------------------------

from __future__ import annotations

import csv
import multiprocessing as mp
import re
import time
from dataclasses import dataclass
from pathlib import Path
from typing import Dict, Iterable, List


# ---------------------------
# 정규표현식 패턴 (Regex)
# ---------------------------
# 이메일 (문장 내 포함된 이메일도 탐지)
EMAIL_PATTERN = re.compile(r"[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+")

# 전화번호 (하이픈 포함)
PHONE_PATTERN = re.compile(r"\b\d{2,3}-\d{3,4}-\d{4}\b")


# ---------------------------
# 금칙어 -> 표준 표현 매칭하기
# ---------------------------
